CKEDITOR.editorConfig=function(e){e.toolbar=[{name:"document",items:["Source"]},{name:"basicstyles",items:["Bold","Italic","-","RemoveFormat","-","NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote"]},{name:"insert",items:["Image","Table"]}],e.coreStyles_bold={element:"b",overrides:"strong"},e.coreStyles_italic={element:"i",overrides:"em"},e.pasteFromWordRemoveFontStyles=!0,e.pasteFromWordRemoveStyles=!0,e.filebrowserBrowseUrl="/admin/ckeditor/attachment_files",e.filebrowserImageBrowseUrl="/admin/ckeditor/pictures",e.filebrowserImageBrowseLinkUrl="/admin/ckeditor/pictures",e.filebrowserImageUploadUrl="/admin/ckeditor/pictures",e.filebrowserUploadUrl="/admin/ckeditor/attachment_files",e.filebrowserParams=function(){for(var e,t,r,o=document.getElementsByTagName("meta"),i=new Object,n=0;n<o.length;n++)switch(r=o[n],r.name){case"csrf-token":e=r.content;break;case"csrf-param":t=r.content;break;default:continue}return void 0!==t&&void 0!==e&&(i[t]=e),i},e.addQueryString=function(e,t){var r=[];if(!t)return e;for(var o in t)r.push(o+"="+encodeURIComponent(t[o]));return e+(-1!=e.indexOf("?")?"&":"?")+r.join("&")},CKEDITOR.on("dialogDefinition",function(t){var r,o,i=t.data.name,n=t.data.definition;CKEDITOR.tools.indexOf(["link","image","attachment","flash"],i)>-1&&(r=n.getContents("Upload")||n.getContents("upload"),o=null==r?null:r.get("upload"),o&&o.filebrowser&&void 0===o.filebrowser.params&&(o.filebrowser.params=e.filebrowserParams(),o.action=e.addQueryString(o.action,o.filebrowser.params)))})};